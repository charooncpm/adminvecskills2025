<!doctype html>
<html lang="th" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô VecSkills ‡∏†‡∏≤‡∏Ñ‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
      font-family: 'Prompt', sans-serif;
    }
    .gradient-bg {
      background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 50%, #1e3a5f 100%);
    }
    .card-shadow {
      box-shadow: 0 10px 40px rgba(0,0,0,0.15);
    }
    .glass-effect {
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(10px);
    }
    .btn-primary {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      transition: all 0.3s ease;
    }
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(245, 158, 11, 0.4);
    }
    .input-focus:focus {
      border-color: #f59e0b;
      box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2);
    }
    .table-row:hover {
      background: rgba(245, 158, 11, 0.08);
    }
    .status-active {
      background: #10b981;
    }
    .status-inactive {
      background: #ef4444;
    }
    .fade-in {
      animation: fadeIn 0.3s ease-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .toast {
      animation: slideIn 0.3s ease-out;
    }
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full gradient-bg">
  <div id="app" class="h-full overflow-auto"><!-- Public Dashboard -->
   <div id="public-dashboard" class="min-h-full"><!-- Hero Section -->
    <div class="bg-gradient-to-br from-slate-700 via-slate-800 to-slate-900 text-white">
     <div class="max-w-7xl mx-auto px-4 py-16 text-center">
      <div class="w-24 h-24 mx-auto mb-6 bg-white/10 backdrop-blur-sm rounded-3xl flex items-center justify-center shadow-2xl">
       <svg class="w-14 h-14" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
       </svg>
      </div>
      <h1 id="public-title" class="text-4xl md:text-5xl font-bold mb-4">‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô VecSkills</h1>
      <p id="public-subtitle" class="text-xl text-white/80 mb-2">‡∏†‡∏≤‡∏Ñ‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠</p>
      <p class="text-amber-400 font-semibold text-lg">VECSkills 2025</p>
      <p class="text-white/70 mt-4 max-w-2xl mx-auto">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û‡πÅ‡∏•‡∏∞‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</p>
     </div>
    </div><!-- Action Buttons -->
    <div class="max-w-7xl mx-auto px-4 -mt-8 mb-8">
     <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto"><button id="show-search-btn" class="glass-effect rounded-2xl p-6 card-shadow hover:scale-105 transition-all">
       <div class="flex items-center gap-4">
        <div class="w-14 h-14 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0">
         <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
         </svg>
        </div>
        <div class="text-left">
         <h3 class="text-lg font-bold text-slate-800">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h3>
         <p class="text-sm text-slate-500">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</p>
        </div>
       </div></button> <button id="show-register-btn" class="glass-effect rounded-2xl p-6 card-shadow hover:scale-105 transition-all">
       <div class="flex items-center gap-4">
        <div class="w-14 h-14 bg-amber-500 rounded-xl flex items-center justify-center flex-shrink-0">
         <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
         </svg>
        </div>
        <div class="text-left">
         <h3 class="text-lg font-bold text-slate-800">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h3>
         <p class="text-sm text-slate-500">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà</p>
        </div>
       </div></button>
     </div>
    </div><!-- Member Search Section -->
    <div id="search-section" class="hidden max-w-7xl mx-auto px-4 pb-12">
     <div class="bg-white rounded-3xl card-shadow p-6 md:p-8">
      <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center gap-3">
       <svg class="w-7 h-7 text-blue-500" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
       </svg> ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h2><!-- Search Bar -->
      <div class="mb-6">
       <div class="flex flex-col md:flex-row gap-4">
        <div class="flex-1 relative">
         <svg class="w-5 h-5 text-slate-400 absolute left-4 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
         </svg><input type="text" id="public-search-input" class="w-full pl-12 pr-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠, ‡∏™‡∏ñ‡∏≤‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤, ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î...">
        </div><select id="public-filter-province" class="px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none bg-white min-w-[200px]"> <option value="">‡∏ó‡∏∏‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option> </select>
       </div>
      </div><!-- Results Count -->
      <div class="mb-4 text-sm text-slate-500">
       ‡∏û‡∏ö <span id="search-results-count" class="font-bold text-slate-700">0</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
      </div><!-- Members Grid -->
      <div id="public-members-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
       <div class="col-span-full text-center py-12 text-slate-400">
        <svg class="w-16 h-16 text-slate-300 mx-auto mb-3" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
        <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</p>
       </div>
      </div>
     </div>
    </div><!-- Registration Section -->
    <div id="register-section" class="hidden max-w-3xl mx-auto px-4 pb-12">
     <div class="bg-white rounded-3xl card-shadow p-6 md:p-8">
      <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center gap-3">
       <svg class="w-7 h-7 text-amber-500" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
       </svg> ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà</h2>
      <form id="public-register-form" class="space-y-4">
       <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div><label class="block text-sm font-medium text-slate-700 mb-2">‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏• <span class="text-red-500">*</span></label> <input type="text" id="reg-fullname" required class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ">
        </div>
        <div><label class="block text-sm font-medium text-slate-700 mb-2">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á <span class="text-red-500">*</span></label> <input type="text" id="reg-position" required class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="‡∏Ñ‡∏£‡∏π ‡∏Ñ‡∏®.2">
        </div>
        <div><label class="block text-sm font-medium text-slate-700 mb-2">‡∏™‡∏ñ‡∏≤‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤ <span class="text-red-500">*</span></label> <input type="text" id="reg-institution" required class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ...">
        </div>
        <div><label class="block text-sm font-medium text-slate-700 mb-2">‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î <span class="text-red-500">*</span></label> <select id="reg-province" required class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none bg-white transition-all"> <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option> <option value="‡∏Å‡∏≤‡∏¨‡∏™‡∏¥‡∏ô‡∏ò‡∏∏‡πå">‡∏Å‡∏≤‡∏¨‡∏™‡∏¥‡∏ô‡∏ò‡∏∏‡πå</option> <option value="‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô">‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô</option> <option value="‡∏ä‡∏±‡∏¢‡∏†‡∏π‡∏°‡∏¥">‡∏ä‡∏±‡∏¢‡∏†‡∏π‡∏°‡∏¥</option> <option value="‡∏ô‡∏Ñ‡∏£‡∏û‡∏ô‡∏°">‡∏ô‡∏Ñ‡∏£‡∏û‡∏ô‡∏°</option> <option value="‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤">‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤</option> <option value="‡∏ö‡∏∂‡∏á‡∏Å‡∏≤‡∏¨">‡∏ö‡∏∂‡∏á‡∏Å‡∏≤‡∏¨</option> <option value="‡∏ö‡∏∏‡∏£‡∏µ‡∏£‡∏±‡∏°‡∏¢‡πå">‡∏ö‡∏∏‡∏£‡∏µ‡∏£‡∏±‡∏°‡∏¢‡πå</option> <option value="‡∏°‡∏´‡∏≤‡∏™‡∏≤‡∏£‡∏Ñ‡∏≤‡∏°">‡∏°‡∏´‡∏≤‡∏™‡∏≤‡∏£‡∏Ñ‡∏≤‡∏°</option> <option value="‡∏°‡∏∏‡∏Å‡∏î‡∏≤‡∏´‡∏≤‡∏£">‡∏°‡∏∏‡∏Å‡∏î‡∏≤‡∏´‡∏≤‡∏£</option> <option value="‡∏¢‡πÇ‡∏™‡∏ò‡∏£">‡∏¢‡πÇ‡∏™‡∏ò‡∏£</option> <option value="‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡∏≠‡πá‡∏î">‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡∏≠‡πá‡∏î</option> <option value="‡πÄ‡∏•‡∏¢">‡πÄ‡∏•‡∏¢</option> <option value="‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©">‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©</option> <option value="‡∏™‡∏Å‡∏•‡∏ô‡∏Ñ‡∏£">‡∏™‡∏Å‡∏•‡∏ô‡∏Ñ‡∏£</option> <option value="‡∏™‡∏∏‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå">‡∏™‡∏∏‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå</option> <option value="‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢">‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢</option> <option value="‡∏´‡∏ô‡∏≠‡∏á‡∏ö‡∏±‡∏ß‡∏•‡∏≥‡∏†‡∏π">‡∏´‡∏ô‡∏≠‡∏á‡∏ö‡∏±‡∏ß‡∏•‡∏≥‡∏†‡∏π</option> <option value="‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ">‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ</option> <option value="‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ">‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ</option> <option value="‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡πÄ‡∏à‡∏£‡∏¥‡∏ç">‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡πÄ‡∏à‡∏£‡∏¥‡∏ç</option> </select>
        </div>
        <div><label class="block text-sm font-medium text-slate-700 mb-2">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå <span class="text-red-500">*</span></label> <input type="tel" id="reg-phone" required class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="08X-XXX-XXXX">
        </div>
        <div><label class="block text-sm font-medium text-slate-700 mb-2">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label> <input type="email" id="reg-email" class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="email@example.com">
        </div>
        <div><label class="block text-sm font-medium text-slate-700 mb-2">Line ID</label> <input type="text" id="reg-line" class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="line_id">
        </div>
        <div><label class="block text-sm font-medium text-slate-700 mb-2">Facebook</label> <input type="text" id="reg-facebook" class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå Facebook ‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå">
        </div>
        <div class="md:col-span-2"><label class="block text-sm font-medium text-slate-700 mb-2">‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó <span class="text-red-500">*</span></label> <select id="reg-role" required class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none bg-white transition-all"> <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó</option> <option value="admin">‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option> <option value="coordinator">‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô</option> <option value="committee">‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£</option> <option value="staff">‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</option> </select>
        </div>
        <div class="md:col-span-2"><label class="block text-sm font-medium text-slate-700 mb-2">‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</label> <input type="hidden" id="reg-photo-data">
         <div class="flex flex-col gap-3">
          <div id="reg-photo-preview-container" class="hidden">
           <div class="relative inline-block"><img id="reg-photo-preview" class="w-32 h-32 rounded-xl object-cover border-2 border-slate-200"> <button type="button" id="reg-remove-photo-btn" class="absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all flex items-center justify-center shadow-lg">
             <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
             </svg></button>
           </div>
          </div>
          <div><input type="file" id="reg-photo" accept="image/jpeg,image/png,image/jpg" class="hidden"> <label for="reg-photo" class="inline-flex items-center gap-2 px-4 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-xl cursor-pointer transition-all">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û </label>
           <p class="text-xs text-slate-400 mt-1">JPG, PNG (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 2MB)</p>
          </div>
         </div>
        </div>
        <div class="md:col-span-2"><label class="block text-sm font-medium text-slate-700 mb-2">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label> <textarea id="reg-notes" rows="3" class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all resize-none" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°..."></textarea>
        </div>
       </div>
       <div class="bg-amber-50 border border-amber-200 rounded-xl p-4">
        <p class="text-sm text-amber-800">üìå ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÇ‡∏î‡∏¢‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</p>
       </div><button type="submit" id="register-submit-btn" class="w-full btn-primary text-white font-semibold py-3.5 rounded-xl"> ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô </button>
      </form>
     </div>
    </div><!-- Admin Login Link -->
    <div class="text-center pb-8"><button id="go-to-admin-btn" class="text-white/70 hover:text-white text-sm transition-all"> üîí ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• </button>
    </div>
   </div><!-- Login Screen -->
   <div id="login-screen" class="hidden min-h-full flex items-center justify-center p-4">
    <div class="glass-effect rounded-3xl card-shadow p-8 w-full max-w-md fade-in">
     <div class="text-center mb-8">
      <div class="w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-amber-400 to-amber-600 rounded-2xl flex items-center justify-center shadow-lg">
       <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z" />
       </svg>
      </div>
      <h1 id="login-title" class="text-2xl font-bold text-slate-800">‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô VecSkills</h1>
      <p id="login-subtitle" class="text-slate-500 mt-1">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î ‡∏†‡∏≤‡∏Ñ‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠</p>
      <p class="text-amber-600 font-medium mt-2">VECSkills 2025</p>
     </div>
     <div class="space-y-4">
      <div><label class="block text-sm font-medium text-slate-700 mb-2">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</label> <input type="text" id="login-username" class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ">
      </div>
      <div><label class="block text-sm font-medium text-slate-700 mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label> <input type="password" id="login-password" class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô">
      </div>
      <div id="login-error" class="hidden text-red-500 text-sm text-center py-2 bg-red-50 rounded-lg"></div><button id="login-btn" class="w-full btn-primary text-white font-semibold py-3 rounded-xl"> ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö </button>
     </div>
     <div class="text-center mt-6"><button id="back-to-public-btn" class="text-slate-500 hover:text-slate-700 text-sm transition-all"> ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å </button>
     </div>
     <p class="text-center text-slate-400 text-sm mt-4">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û</p>
    </div>
   </div><!-- Main Dashboard -->
   <div id="main-dashboard" class="hidden min-h-full"><!-- Header -->
    <header class="bg-white/95 backdrop-blur-lg shadow-md sticky top-0 z-50">
     <div class="max-w-7xl mx-auto px-4 py-4">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
       <div class="flex items-center gap-4">
        <div class="w-12 h-12 bg-gradient-to-br from-amber-400 to-amber-600 rounded-xl flex items-center justify-center shadow-md">
         <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
         </svg>
        </div>
        <div>
         <h1 id="header-title" class="text-xl font-bold text-slate-800">‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô VecSkills</h1>
         <p id="header-subtitle" class="text-sm text-slate-500">‡∏†‡∏≤‡∏Ñ‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠ | VECSkills 2025</p>
        </div>
       </div>
       <div class="flex items-center gap-3"><span class="text-sm text-slate-600 hidden md:block">üë§ Admin</span> <button id="logout-btn" class="px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg transition-all text-sm font-medium"> ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö </button>
       </div>
      </div>
     </div>
    </header><!-- Stats Cards -->
    <div class="max-w-7xl mx-auto px-4 py-6">
     <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
      <div class="bg-white rounded-2xl p-4 card-shadow">
       <div class="flex items-center gap-3">
        <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
         <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z" />
         </svg>
        </div>
        <div>
         <p class="text-2xl font-bold text-slate-800" id="stat-total">0</p>
         <p class="text-xs text-slate-500">‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
        </div>
       </div>
      </div>
      <div class="bg-white rounded-2xl p-4 card-shadow">
       <div class="flex items-center gap-3">
        <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
         <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
         </svg>
        </div>
        <div>
         <p class="text-2xl font-bold text-slate-800" id="stat-active">0</p>
         <p class="text-xs text-slate-500">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
        </div>
       </div>
      </div>
      <div class="bg-white rounded-2xl p-4 card-shadow">
       <div class="flex items-center gap-3">
        <div class="w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center">
         <svg class="w-6 h-6 text-amber-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
         </svg>
        </div>
        <div>
         <p class="text-2xl font-bold text-slate-800" id="stat-provinces">0</p>
         <p class="text-xs text-slate-500">‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</p>
        </div>
       </div>
      </div>
      <div class="bg-white rounded-2xl p-4 card-shadow">
       <div class="flex items-center gap-3">
        <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center">
         <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
         </svg>
        </div>
        <div>
         <p class="text-2xl font-bold text-slate-800" id="stat-institutions">0</p>
         <p class="text-xs text-slate-500">‡∏™‡∏ñ‡∏≤‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤</p>
        </div>
       </div>
      </div>
     </div><!-- Action Bar -->
     <div class="bg-white rounded-2xl p-4 card-shadow mb-6">
      <div class="flex flex-col md:flex-row gap-4">
       <div class="flex-1 relative">
        <svg class="w-5 h-5 text-slate-400 absolute left-4 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg><input type="text" id="search-input" class="w-full pl-12 pr-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠, ‡∏™‡∏ñ‡∏≤‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤, ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î, ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£...">
       </div><select id="filter-province" class="px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none bg-white min-w-[160px]"> <option value="">‡∏ó‡∏∏‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option> </select> <select id="filter-status" class="px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none bg-white min-w-[140px]"> <option value="">‡∏ó‡∏∏‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option> <option value="active">‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</option> <option value="inactive">‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</option> </select> <button id="add-member-btn" class="btn-primary text-white font-semibold px-6 py-3 rounded-xl flex items-center gap-2 whitespace-nowrap">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
        </svg> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å </button>
      </div>
     </div><!-- Members Table -->
     <div class="bg-white rounded-2xl card-shadow overflow-hidden">
      <div class="overflow-x-auto">
       <table class="w-full">
        <thead class="bg-slate-50 border-b border-slate-200">
         <tr>
          <th class="text-left px-4 py-4 text-sm font-semibold text-slate-700">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
          <th class="text-left px-4 py-4 text-sm font-semibold text-slate-700">‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•</th>
          <th class="text-left px-4 py-4 text-sm font-semibold text-slate-700 hidden md:table-cell">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</th>
          <th class="text-left px-4 py-4 text-sm font-semibold text-slate-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤</th>
          <th class="text-left px-4 py-4 text-sm font-semibold text-slate-700 hidden lg:table-cell">‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</th>
          <th class="text-left px-4 py-4 text-sm font-semibold text-slate-700 hidden md:table-cell">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</th>
          <th class="text-left px-4 py-4 text-sm font-semibold text-slate-700 hidden xl:table-cell">Line ID</th>
          <th class="text-left px-4 py-4 text-sm font-semibold text-slate-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
          <th class="text-left px-4 py-4 text-sm font-semibold text-slate-700">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
         </tr>
        </thead>
        <tbody id="members-table-body">
         <tr>
          <td colspan="9" class="text-center py-12 text-slate-400">
           <div class="flex flex-col items-center gap-3">
            <svg class="w-16 h-16 text-slate-300" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
            <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</p>
            <p class="text-sm">‡∏Ñ‡∏•‡∏¥‡∏Å "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</p>
           </div></td>
         </tr>
        </tbody>
       </table>
      </div>
     </div><!-- Footer Info -->
     <div class="text-center py-6 text-white/70 text-sm">
      <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô VecSkills ‡∏†‡∏≤‡∏Ñ‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠</p>
      <p class="mt-1">‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û ‡πÅ‡∏•‡∏∞‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô VECSkills 2025</p>
     </div>
    </div>
   </div><!-- Add/Edit Modal -->
   <div id="member-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4">
    <div class="absolute inset-0 bg-black/50 backdrop-blur-sm" id="modal-backdrop"></div>
    <div class="bg-white rounded-3xl card-shadow w-full max-w-2xl max-h-[90%] overflow-y-auto relative z-10 fade-in">
     <div class="sticky top-0 bg-white rounded-t-3xl border-b border-slate-100 px-6 py-4 flex items-center justify-between">
      <h2 id="modal-title" class="text-xl font-bold text-slate-800">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà</h2><button id="close-modal-btn" class="w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-all">
       <svg class="w-6 h-6 text-slate-500" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
       </svg></button>
     </div>
     <form id="member-form" class="p-6 space-y-4"><input type="hidden" id="edit-member-id">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
       <div><label class="block text-sm font-medium text-slate-700 mb-2">‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏• <span class="text-red-500">*</span></label> <input type="text" id="input-fullname" required class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ">
       </div>
       <div><label class="block text-sm font-medium text-slate-700 mb-2">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á <span class="text-red-500">*</span></label> <input type="text" id="input-position" required class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="‡∏Ñ‡∏£‡∏π ‡∏Ñ‡∏®.2">
       </div>
       <div><label class="block text-sm font-medium text-slate-700 mb-2">‡∏™‡∏ñ‡∏≤‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤ <span class="text-red-500">*</span></label> <input type="text" id="input-institution" required class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ...">
       </div>
       <div><label class="block text-sm font-medium text-slate-700 mb-2">‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î <span class="text-red-500">*</span></label> <select id="input-province" required class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none bg-white transition-all"> <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option> <option value="‡∏Å‡∏≤‡∏¨‡∏™‡∏¥‡∏ô‡∏ò‡∏∏‡πå">‡∏Å‡∏≤‡∏¨‡∏™‡∏¥‡∏ô‡∏ò‡∏∏‡πå</option> <option value="‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô">‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô</option> <option value="‡∏ä‡∏±‡∏¢‡∏†‡∏π‡∏°‡∏¥">‡∏ä‡∏±‡∏¢‡∏†‡∏π‡∏°‡∏¥</option> <option value="‡∏ô‡∏Ñ‡∏£‡∏û‡∏ô‡∏°">‡∏ô‡∏Ñ‡∏£‡∏û‡∏ô‡∏°</option> <option value="‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤">‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤</option> <option value="‡∏ö‡∏∂‡∏á‡∏Å‡∏≤‡∏¨">‡∏ö‡∏∂‡∏á‡∏Å‡∏≤‡∏¨</option> <option value="‡∏ö‡∏∏‡∏£‡∏µ‡∏£‡∏±‡∏°‡∏¢‡πå">‡∏ö‡∏∏‡∏£‡∏µ‡∏£‡∏±‡∏°‡∏¢‡πå</option> <option value="‡∏°‡∏´‡∏≤‡∏™‡∏≤‡∏£‡∏Ñ‡∏≤‡∏°">‡∏°‡∏´‡∏≤‡∏™‡∏≤‡∏£‡∏Ñ‡∏≤‡∏°</option> <option value="‡∏°‡∏∏‡∏Å‡∏î‡∏≤‡∏´‡∏≤‡∏£">‡∏°‡∏∏‡∏Å‡∏î‡∏≤‡∏´‡∏≤‡∏£</option> <option value="‡∏¢‡πÇ‡∏™‡∏ò‡∏£">‡∏¢‡πÇ‡∏™‡∏ò‡∏£</option> <option value="‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡∏≠‡πá‡∏î">‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡∏≠‡πá‡∏î</option> <option value="‡πÄ‡∏•‡∏¢">‡πÄ‡∏•‡∏¢</option> <option value="‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©">‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©</option> <option value="‡∏™‡∏Å‡∏•‡∏ô‡∏Ñ‡∏£">‡∏™‡∏Å‡∏•‡∏ô‡∏Ñ‡∏£</option> <option value="‡∏™‡∏∏‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå">‡∏™‡∏∏‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå</option> <option value="‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢">‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢</option> <option value="‡∏´‡∏ô‡∏≠‡∏á‡∏ö‡∏±‡∏ß‡∏•‡∏≥‡∏†‡∏π">‡∏´‡∏ô‡∏≠‡∏á‡∏ö‡∏±‡∏ß‡∏•‡∏≥‡∏†‡∏π</option> <option value="‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ">‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ</option> <option value="‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ">‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ</option> <option value="‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡πÄ‡∏à‡∏£‡∏¥‡∏ç">‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡πÄ‡∏à‡∏£‡∏¥‡∏ç</option> </select>
       </div>
       <div><label class="block text-sm font-medium text-slate-700 mb-2">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå <span class="text-red-500">*</span></label> <input type="tel" id="input-phone" required class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="08X-XXX-XXXX">
       </div>
       <div><label class="block text-sm font-medium text-slate-700 mb-2">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label> <input type="email" id="input-email" class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="email@example.com">
       </div>
       <div><label class="block text-sm font-medium text-slate-700 mb-2">Line ID</label> <input type="text" id="input-line" class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="line_id">
       </div>
       <div><label class="block text-sm font-medium text-slate-700 mb-2">Facebook</label> <input type="text" id="input-facebook" class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå Facebook ‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå">
       </div>
       <div><label class="block text-sm font-medium text-slate-700 mb-2">‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó</label> <select id="input-role" class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none bg-white transition-all"> <option value="admin">‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option> <option value="coordinator">‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô</option> <option value="committee">‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£</option> <option value="staff">‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</option> </select>
       </div>
       <div><label class="block text-sm font-medium text-slate-700 mb-2">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label> <select id="input-status" class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none bg-white transition-all"> <option value="active">‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</option> <option value="inactive">‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</option> </select>
       </div>
       <div class="md:col-span-2"><label class="block text-sm font-medium text-slate-700 mb-2">‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</label> <input type="hidden" id="input-photo-data">
        <div class="flex flex-col gap-3">
         <div id="photo-preview-container" class="hidden">
          <div class="relative inline-block"><img id="photo-preview" class="w-32 h-32 rounded-xl object-cover border-2 border-slate-200"> <button type="button" id="remove-photo-btn" class="absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all flex items-center justify-center shadow-lg">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg></button>
          </div>
         </div>
         <div><input type="file" id="input-photo" accept="image/jpeg,image/png,image/jpg" class="hidden"> <label for="input-photo" class="inline-flex items-center gap-2 px-4 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-xl cursor-pointer transition-all">
           <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
           </svg> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û </label>
          <p class="text-xs text-slate-400 mt-1">JPG, PNG (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 2MB)</p>
         </div>
        </div>
       </div>
       <div class="md:col-span-2"><label class="block text-sm font-medium text-slate-700 mb-2">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label> <textarea id="input-notes" rows="3" class="w-full px-4 py-3 rounded-xl border-2 border-slate-200 input-focus outline-none transition-all resize-none" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°..."></textarea>
       </div>
      </div>
      <div class="flex gap-3 pt-4"><button type="button" id="cancel-form-btn" class="flex-1 py-3 rounded-xl border-2 border-slate-200 text-slate-600 font-medium hover:bg-slate-50 transition-all"> ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å </button> <button type="submit" id="submit-form-btn" class="flex-1 btn-primary text-white font-semibold py-3 rounded-xl"> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• </button>
      </div>
     </form>
    </div>
   </div><!-- View Modal -->
   <div id="view-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4">
    <div class="absolute inset-0 bg-black/50 backdrop-blur-sm" id="view-modal-backdrop"></div>
    <div class="bg-white rounded-3xl card-shadow w-full max-w-lg relative z-10 fade-in overflow-hidden">
     <div class="bg-gradient-to-r from-slate-700 to-slate-800 px-6 py-6 text-white"><button id="close-view-btn" class="absolute top-4 right-4 w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/20 transition-all">
       <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
       </svg></button>
      <div class="flex items-center gap-4">
       <div class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center">
        <svg class="w-10 h-10" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg>
       </div>
       <div>
        <h3 id="view-name" class="text-xl font-bold">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h3>
        <p id="view-position" class="text-white/70">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</p>
       </div>
      </div>
     </div>
     <div class="p-6 space-y-4">
      <div id="view-photo-container" class="hidden mb-4">
       <p class="text-xs text-slate-400 mb-2">‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</p><img id="view-photo" class="w-32 h-32 rounded-xl object-cover border-2 border-slate-200">
      </div>
      <div class="grid grid-cols-2 gap-4">
       <div>
        <p class="text-xs text-slate-400 mb-1">‡∏™‡∏ñ‡∏≤‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤</p>
        <p id="view-institution" class="font-medium text-slate-800">-</p>
       </div>
       <div>
        <p class="text-xs text-slate-400 mb-1">‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</p>
        <p id="view-province" class="font-medium text-slate-800">-</p>
       </div>
       <div>
        <p class="text-xs text-slate-400 mb-1">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</p>
        <p id="view-phone" class="font-medium text-slate-800">-</p>
       </div>
       <div>
        <p class="text-xs text-slate-400 mb-1">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</p>
        <p id="view-email" class="font-medium text-slate-800">-</p>
       </div>
       <div>
        <p class="text-xs text-slate-400 mb-1">Line ID</p>
        <p id="view-line" class="font-medium text-slate-800 break-all">-</p>
       </div>
       <div>
        <p class="text-xs text-slate-400 mb-1">Facebook</p>
        <p id="view-facebook" class="font-medium text-slate-800 break-all">-</p>
       </div>
       <div class="col-span-2">
        <p class="text-xs text-slate-400 mb-1">‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó</p>
        <p id="view-role" class="font-medium text-slate-800">-</p>
       </div>
      </div>
      <div>
       <p class="text-xs text-slate-400 mb-1">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</p>
       <p id="view-notes" class="font-medium text-slate-800">-</p>
      </div>
      <div class="flex gap-3 pt-4"><a id="view-call-btn" href="tel:" class="flex-1 py-3 rounded-xl bg-green-500 text-white font-medium text-center hover:bg-green-600 transition-all flex items-center justify-center gap-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
        </svg> ‡πÇ‡∏ó‡∏£ </a> <a id="view-line-btn" href="#" target="_blank" rel="noopener noreferrer" class="flex-1 py-3 rounded-xl bg-green-400 text-white font-medium text-center hover:bg-green-500 transition-all flex items-center justify-center gap-2"> üí¨ Line </a> <a id="view-facebook-btn" href="#" target="_blank" rel="noopener noreferrer" class="flex-1 py-3 rounded-xl bg-blue-500 text-white font-medium text-center hover:bg-blue-600 transition-all flex items-center justify-center gap-2"> üìò Facebook </a>
      </div>
     </div>
    </div>
   </div><!-- Delete Confirmation Modal -->
   <div id="delete-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4">
    <div class="absolute inset-0 bg-black/50 backdrop-blur-sm" id="delete-modal-backdrop"></div>
    <div class="bg-white rounded-3xl card-shadow w-full max-w-md relative z-10 fade-in p-6 text-center">
     <div class="w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center">
      <svg class="w-8 h-8 text-red-500" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
      </svg>
     </div>
     <h3 class="text-xl font-bold text-slate-800 mb-2">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö</h3>
     <p class="text-slate-500 mb-6">‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å "<span id="delete-member-name" class="font-medium text-slate-700"></span>" ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</p><input type="hidden" id="delete-member-id">
     <div class="flex gap-3"><button id="cancel-delete-btn" class="flex-1 py-3 rounded-xl border-2 border-slate-200 text-slate-600 font-medium hover:bg-slate-50 transition-all"> ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å </button> <button id="confirm-delete-btn" class="flex-1 py-3 rounded-xl bg-red-500 text-white font-semibold hover:bg-red-600 transition-all"> ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• </button>
     </div>
    </div>
   </div><!-- Toast -->
   <div id="toast" class="hidden fixed top-4 right-4 z-50 px-6 py-4 rounded-xl shadow-2xl text-white font-medium toast"><span id="toast-message"></span>
   </div>
  </div>
  <script>
    // Config and State
    const defaultConfig = {
      system_title: '‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô VecSkills',
      organization_name: '‡∏†‡∏≤‡∏Ñ‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠'
    };

    let config = { ...defaultConfig };
    let members = [];
    let isLoggedIn = false;
    let currentEditId = null;

    // Photo handling - Admin Modal
    const inputPhoto = document.getElementById('input-photo');
    const inputPhotoData = document.getElementById('input-photo-data');
    const photoPreview = document.getElementById('photo-preview');
    const photoPreviewContainer = document.getElementById('photo-preview-container');
    const removePhotoBtn = document.getElementById('remove-photo-btn');

    // Photo handling - Public Registration
    const regPhoto = document.getElementById('reg-photo');
    const regPhotoData = document.getElementById('reg-photo-data');
    const regPhotoPreview = document.getElementById('reg-photo-preview');
    const regPhotoPreviewContainer = document.getElementById('reg-photo-preview-container');
    const regRemovePhotoBtn = document.getElementById('reg-remove-photo-btn');

    // Compress and resize image
    function compressImage(file, maxWidth = 400, quality = 0.8) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onload = (e) => {
          const img = new Image();
          img.onload = () => {
            const canvas = document.createElement('canvas');
            let width = img.width;
            let height = img.height;

            if (width > maxWidth) {
              height = (height * maxWidth) / width;
              width = maxWidth;
            }

            canvas.width = width;
            canvas.height = height;
            const ctx = canvas.getContext('2d');
            ctx.drawImage(img, 0, 0, width, height);

            canvas.toBlob((blob) => {
              const compressedReader = new FileReader();
              compressedReader.onloadend = () => resolve(compressedReader.result);
              compressedReader.onerror = reject;
              compressedReader.readAsDataURL(blob);
            }, 'image/jpeg', quality);
          };
          img.onerror = reject;
          img.src = e.target.result;
        };
        reader.onerror = reject;
        reader.readAsDataURL(file);
      });
    }

    // Handle photo selection - Admin Modal
    inputPhoto.addEventListener('change', async (e) => {
      const file = e.target.files[0];
      if (!file) return;

      if (file.size > 2 * 1024 * 1024) {
        showToast('‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 2MB', 'error');
        inputPhoto.value = '';
        return;
      }

      try {
        const compressedData = await compressImage(file);
        inputPhotoData.value = compressedData;
        photoPreview.src = compressedData;
        photoPreviewContainer.classList.remove('hidden');
      } catch (error) {
        showToast('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û', 'error');
      }
    });

    // Remove photo - Admin Modal
    removePhotoBtn.addEventListener('click', () => {
      inputPhoto.value = '';
      inputPhotoData.value = '';
      photoPreview.src = '';
      photoPreviewContainer.classList.add('hidden');
    });

    // Handle photo selection - Public Registration
    regPhoto.addEventListener('change', async (e) => {
      const file = e.target.files[0];
      if (!file) return;

      if (file.size > 2 * 1024 * 1024) {
        showToast('‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 2MB', 'error');
        regPhoto.value = '';
        return;
      }

      try {
        const compressedData = await compressImage(file);
        regPhotoData.value = compressedData;
        regPhotoPreview.src = compressedData;
        regPhotoPreviewContainer.classList.remove('hidden');
      } catch (error) {
        showToast('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û', 'error');
      }
    });

    // Remove photo - Public Registration
    regRemovePhotoBtn.addEventListener('click', () => {
      regPhoto.value = '';
      regPhotoData.value = '';
      regPhotoPreview.src = '';
      regPhotoPreviewContainer.classList.add('hidden');
    });

    // DOM Elements
    const publicDashboard = document.getElementById('public-dashboard');
    const loginScreen = document.getElementById('login-screen');
    const mainDashboard = document.getElementById('main-dashboard');
    const searchSection = document.getElementById('search-section');
    const registerSection = document.getElementById('register-section');
    const showSearchBtn = document.getElementById('show-search-btn');
    const showRegisterBtn = document.getElementById('show-register-btn');
    const goToAdminBtn = document.getElementById('go-to-admin-btn');
    const backToPublicBtn = document.getElementById('back-to-public-btn');
    const loginBtn = document.getElementById('login-btn');
    const logoutBtn = document.getElementById('logout-btn');
    const loginUsername = document.getElementById('login-username');
    const loginPassword = document.getElementById('login-password');
    const loginError = document.getElementById('login-error');
    const searchInput = document.getElementById('search-input');
    const filterProvince = document.getElementById('filter-province');
    const filterStatus = document.getElementById('filter-status');
    const addMemberBtn = document.getElementById('add-member-btn');
    const memberModal = document.getElementById('member-modal');
    const memberForm = document.getElementById('member-form');
    const modalTitle = document.getElementById('modal-title');
    const closeModalBtn = document.getElementById('close-modal-btn');
    const modalBackdrop = document.getElementById('modal-backdrop');
    const cancelFormBtn = document.getElementById('cancel-form-btn');
    const submitFormBtn = document.getElementById('submit-form-btn');
    const viewModal = document.getElementById('view-modal');
    const closeViewBtn = document.getElementById('close-view-btn');
    const viewModalBackdrop = document.getElementById('view-modal-backdrop');
    const deleteModal = document.getElementById('delete-modal');
    const deleteModalBackdrop = document.getElementById('delete-modal-backdrop');
    const cancelDeleteBtn = document.getElementById('cancel-delete-btn');
    const confirmDeleteBtn = document.getElementById('confirm-delete-btn');

    // Toast function
    function showToast(message, type = 'success') {
      const toast = document.getElementById('toast');
      const toastMessage = document.getElementById('toast-message');
      toastMessage.textContent = message;
      toast.className = `fixed top-4 right-4 z-50 px-6 py-4 rounded-xl shadow-2xl text-white font-medium toast ${type === 'success' ? 'bg-green-500' : 'bg-red-500'}`;
      toast.classList.remove('hidden');
      setTimeout(() => toast.classList.add('hidden'), 3000);
    }

    // Navigation Functions
    showSearchBtn.addEventListener('click', () => {
      searchSection.classList.remove('hidden');
      registerSection.classList.add('hidden');
      renderPublicMembers();
    });

    showRegisterBtn.addEventListener('click', () => {
      registerSection.classList.remove('hidden');
      searchSection.classList.add('hidden');
    });

    goToAdminBtn.addEventListener('click', () => {
      publicDashboard.classList.add('hidden');
      loginScreen.classList.remove('hidden');
    });

    backToPublicBtn.addEventListener('click', () => {
      loginScreen.classList.add('hidden');
      publicDashboard.classList.remove('hidden');
      searchSection.classList.add('hidden');
      registerSection.classList.add('hidden');
    });

    // Generate Member ID
    function generateMemberId() {
      return 'MEM-' + Date.now().toString(36).toUpperCase() + Math.random().toString(36).substr(2, 4).toUpperCase();
    }

    // Get role display name
    function getRoleDisplay(role) {
      const roles = {
        'admin': '‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î',
        'coordinator': '‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô',
        'committee': '‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£',
        'staff': '‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà'
      };
      return roles[role] || role;
    }

    // Login Handler
    loginBtn.addEventListener('click', () => {
      const username = loginUsername.value.trim();
      const password = loginPassword.value.trim();
      
      if (username === 'admin' && password === '1007') {
        isLoggedIn = true;
        loginError.classList.add('hidden');
        loginScreen.classList.add('hidden');
        publicDashboard.classList.add('hidden');
        mainDashboard.classList.remove('hidden');
        showToast('‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
      } else {
        loginError.textContent = '‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á';
        loginError.classList.remove('hidden');
      }
    });

    // Enter key for login
    loginPassword.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') loginBtn.click();
    });

    // Logout Handler
    logoutBtn.addEventListener('click', () => {
      isLoggedIn = false;
      loginUsername.value = '';
      loginPassword.value = '';
      mainDashboard.classList.add('hidden');
      publicDashboard.classList.remove('hidden');
      searchSection.classList.add('hidden');
      registerSection.classList.add('hidden');
      showToast('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß');
    });

    // Update Stats
    function updateStats() {
      document.getElementById('stat-total').textContent = members.length;
      document.getElementById('stat-active').textContent = members.filter(m => m.status === 'active').length;
      
      const provinces = new Set(members.map(m => m.province));
      document.getElementById('stat-provinces').textContent = provinces.size;
      
      const institutions = new Set(members.map(m => m.institution));
      document.getElementById('stat-institutions').textContent = institutions.size;

      updateProvinceFilter();
    }

    // Update Province Filter
    function updateProvinceFilter() {
      const provinces = [...new Set(members.map(m => m.province))].sort();
      const currentValue = filterProvince.value;
      filterProvince.innerHTML = '<option value="">‡∏ó‡∏∏‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option>';
      provinces.forEach(p => {
        const option = document.createElement('option');
        option.value = p;
        option.textContent = p;
        filterProvince.appendChild(option);
      });
      filterProvince.value = currentValue;

      const publicFilterProvince = document.getElementById('public-filter-province');
      const currentPublicValue = publicFilterProvince.value;
      publicFilterProvince.innerHTML = '<option value="">‡∏ó‡∏∏‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option>';
      provinces.forEach(p => {
        const option = document.createElement('option');
        option.value = p;
        option.textContent = p;
        publicFilterProvince.appendChild(option);
      });
      publicFilterProvince.value = currentPublicValue;
    }

    // Render Public Members (for search)
    function renderPublicMembers() {
      const grid = document.getElementById('public-members-grid');
      const searchInput = document.getElementById('public-search-input');
      const filterProvince = document.getElementById('public-filter-province');
      const resultsCount = document.getElementById('search-results-count');

      const searchTerm = searchInput.value.toLowerCase();
      const provinceFilter = filterProvince.value;

      let filtered = members.filter(m => {
        if (m.status !== 'active') return false;

        const matchSearch = !searchTerm || 
          m.full_name.toLowerCase().includes(searchTerm) ||
          m.institution.toLowerCase().includes(searchTerm) ||
          m.province.toLowerCase().includes(searchTerm) ||
          m.phone.includes(searchTerm) ||
          (m.email && m.email.toLowerCase().includes(searchTerm));
        
        const matchProvince = !provinceFilter || m.province === provinceFilter;
        
        return matchSearch && matchProvince;
      });

      resultsCount.textContent = filtered.length;

      if (filtered.length === 0) {
        grid.innerHTML = `
          <div class="col-span-full text-center py-12 text-slate-400">
            <svg class="w-16 h-16 text-slate-300 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
            <p>${members.length === 0 ? '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å' : '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤'}</p>
          </div>
        `;
        return;
      }

      grid.innerHTML = filtered.map(m => `
        <div class="bg-slate-50 rounded-2xl p-5 hover:shadow-lg transition-all">
          ${m.photo ? `<img src="${m.photo}" class="w-20 h-20 rounded-xl object-cover mx-auto mb-3 border-2 border-white shadow-md">` : `
          <div class="w-20 h-20 rounded-xl bg-gradient-to-br from-blue-400 to-blue-600 mx-auto mb-3 flex items-center justify-center shadow-md">
            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
            </svg>
          </div>
          `}
          <h3 class="font-bold text-slate-800 text-center mb-1">${m.full_name}</h3>
          <p class="text-sm text-slate-500 text-center mb-3">${m.position}</p>
          <div class="space-y-2 text-sm">
            <div class="flex items-start gap-2">
              <svg class="w-4 h-4 text-slate-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
              </svg>
              <span class="text-slate-600">${m.institution}</span>
            </div>
            <div class="flex items-center gap-2">
              <svg class="w-4 h-4 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
              </svg>
              <span class="text-slate-600">${m.province}</span>
            </div>
            <div class="flex items-center gap-2">
              <svg class="w-4 h-4 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
              </svg>
              <a href="tel:${m.phone}" class="text-blue-600 hover:underline">${m.phone}</a>
            </div>
            ${m.email ? `
            <div class="flex items-center gap-2">
              <svg class="w-4 h-4 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
              </svg>
              <a href="mailto:${m.email}" class="text-blue-600 hover:underline text-xs break-all">${m.email}</a>
            </div>
            ` : ''}
            ${m.line_id ? `
            <div class="flex items-start gap-2">
              <span class="text-xs mt-0.5">üí¨</span>
              <div class="flex-1 min-w-0">
                <a href="https://line.me/ti/p/~${m.line_id}" target="_blank" rel="noopener noreferrer" class="text-green-600 hover:underline block">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô Line</a>
                <p class="text-xs text-slate-400 break-all">ID: ${m.line_id}</p>
              </div>
            </div>
            ` : ''}
            ${m.facebook ? `
            <div class="flex items-start gap-2">
              <span class="text-xs mt-0.5">üìò</span>
              <div class="flex-1 min-w-0">
                <a href="${m.facebook.startsWith('http') ? m.facebook : 'https://www.facebook.com/' + m.facebook}" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline block truncate">Facebook Profile</a>
                <p class="text-xs text-slate-400 break-all">${m.facebook}</p>
              </div>
            </div>
            ` : ''}
          </div>
        </div>
      `).join('');
    }

    // Public search event listeners
    document.getElementById('public-search-input').addEventListener('input', renderPublicMembers);
    document.getElementById('public-filter-province').addEventListener('change', renderPublicMembers);

    // Render Members Table
    function renderMembers() {
      const tbody = document.getElementById('members-table-body');
      const searchTerm = searchInput.value.toLowerCase();
      const provinceFilter = filterProvince.value;
      const statusFilter = filterStatus.value;

      let filtered = members.filter(m => {
        const matchSearch = !searchTerm || 
          m.full_name.toLowerCase().includes(searchTerm) ||
          m.institution.toLowerCase().includes(searchTerm) ||
          m.province.toLowerCase().includes(searchTerm) ||
          m.phone.includes(searchTerm) ||
          (m.email && m.email.toLowerCase().includes(searchTerm)) ||
          (m.line_id && m.line_id.toLowerCase().includes(searchTerm)) ||
          (m.facebook && m.facebook.toLowerCase().includes(searchTerm));
        
        const matchProvince = !provinceFilter || m.province === provinceFilter;
        const matchStatus = !statusFilter || m.status === statusFilter;
        
        return matchSearch && matchProvince && matchStatus;
      });

      if (filtered.length === 0) {
        tbody.innerHTML = `
          <tr>
            <td colspan="9" class="text-center py-12 text-slate-400">
              <div class="flex flex-col items-center gap-3">
                <svg class="w-16 h-16 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                </svg>
                <p>${members.length === 0 ? '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å' : '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤'}</p>
                <p class="text-sm">${members.length === 0 ? '‡∏Ñ‡∏•‡∏¥‡∏Å "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô' : '‡∏•‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏≠‡∏∑‡πà‡∏ô'}</p>
              </div>
            </td>
          </tr>
        `;
        return;
      }

      tbody.innerHTML = filtered.map((m, idx) => `
        <tr class="table-row border-b border-slate-100 transition-all" data-id="${m.__backendId}">
          <td class="px-4 py-4 text-sm text-slate-500">${idx + 1}</td>
          <td class="px-4 py-4">
            <div class="font-medium text-slate-800">${m.full_name}</div>
            <div class="text-xs text-slate-400 md:hidden">${m.position}</div>
          </td>
          <td class="px-4 py-4 text-sm text-slate-600 hidden md:table-cell">${m.position}</td>
          <td class="px-4 py-4 text-sm text-slate-600">${m.institution}</td>
          <td class="px-4 py-4 text-sm text-slate-600 hidden lg:table-cell">${m.province}</td>
          <td class="px-4 py-4 text-sm text-slate-600 hidden md:table-cell">
            <a href="tel:${m.phone}" class="text-amber-600 hover:underline">${m.phone}</a>
          </td>
          <td class="px-4 py-4 text-sm text-slate-600 hidden xl:table-cell">${m.line_id || '-'}</td>
          <td class="px-4 py-4">
            <span class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${m.status === 'active' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}">
              <span class="w-1.5 h-1.5 rounded-full ${m.status === 'active' ? 'bg-green-500' : 'bg-red-500'}"></span>
              ${m.status === 'active' ? '‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô' : '‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô'}
            </span>
          </td>
          <td class="px-4 py-4">
            <div class="flex items-center gap-1">
              <button onclick="viewMember('${m.__backendId}')" class="p-2 hover:bg-blue-100 rounded-lg transition-all" title="‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">
                <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                </svg>
              </button>
              <button onclick="editMember('${m.__backendId}')" class="p-2 hover:bg-amber-100 rounded-lg transition-all" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç">
                <svg class="w-4 h-4 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                </svg>
              </button>
              <button onclick="deleteMember('${m.__backendId}')" class="p-2 hover:bg-red-100 rounded-lg transition-all" title="‡∏•‡∏ö">
                <svg class="w-4 h-4 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                </svg>
              </button>
            </div>
          </td>
        </tr>
      `).join('');

      updateStats();
    }

    // Open Add Modal
    addMemberBtn.addEventListener('click', () => {
      if (members.length >= 999) {
        showToast('‡∏ñ‡∏∂‡∏á‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å 999 ‡∏Ñ‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏Å‡πà‡∏≠‡∏ô', 'error');
        return;
      }
      currentEditId = null;
      modalTitle.textContent = '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà';
      memberForm.reset();
      document.getElementById('edit-member-id').value = '';
      inputPhotoData.value = '';
      photoPreview.src = '';
      photoPreviewContainer.classList.add('hidden');
      memberModal.classList.remove('hidden');
    });

    // Close Modal handlers
    function closeModal() {
      memberModal.classList.add('hidden');
      inputPhoto.value = '';
      inputPhotoData.value = '';
      photoPreview.src = '';
      photoPreviewContainer.classList.add('hidden');
    }
    closeModalBtn.addEventListener('click', closeModal);
    modalBackdrop.addEventListener('click', closeModal);
    cancelFormBtn.addEventListener('click', closeModal);

    // View Member
    window.viewMember = function(id) {
      const member = members.find(m => m.__backendId === id);
      if (!member) return;

      document.getElementById('view-name').textContent = member.full_name;
      document.getElementById('view-position').textContent = member.position;
      document.getElementById('view-institution').textContent = member.institution;
      document.getElementById('view-province').textContent = member.province;
      document.getElementById('view-phone').textContent = member.phone;
      document.getElementById('view-email').textContent = member.email || '-';
      document.getElementById('view-line').textContent = member.line_id || '-';
      document.getElementById('view-facebook').textContent = member.facebook || '-';
      document.getElementById('view-role').textContent = getRoleDisplay(member.role);
      document.getElementById('view-notes').textContent = member.notes || '-';
      
      const viewPhotoContainer = document.getElementById('view-photo-container');
      const viewPhoto = document.getElementById('view-photo');
      if (member.photo) {
        viewPhoto.src = member.photo;
        viewPhotoContainer.classList.remove('hidden');
      } else {
        viewPhotoContainer.classList.add('hidden');
      }
      
      document.getElementById('view-call-btn').href = `tel:${member.phone}`;
      
      const viewLineBtn = document.getElementById('view-line-btn');
      if (member.line_id) {
        viewLineBtn.href = `https://line.me/ti/p/~${member.line_id}`;
        viewLineBtn.classList.remove('opacity-50', 'pointer-events-none');
      } else {
        viewLineBtn.href = '#';
        viewLineBtn.classList.add('opacity-50', 'pointer-events-none');
      }

      const viewFacebookBtn = document.getElementById('view-facebook-btn');
      if (member.facebook) {
        viewFacebookBtn.href = member.facebook.startsWith('http') ? member.facebook : `https://www.facebook.com/${member.facebook}`;
        viewFacebookBtn.classList.remove('opacity-50', 'pointer-events-none');
      } else {
        viewFacebookBtn.href = '#';
        viewFacebookBtn.classList.add('opacity-50', 'pointer-events-none');
      }

      viewModal.classList.remove('hidden');
    };

    closeViewBtn.addEventListener('click', () => viewModal.classList.add('hidden'));
    viewModalBackdrop.addEventListener('click', () => viewModal.classList.add('hidden'));

    // Edit Member
    window.editMember = function(id) {
      const member = members.find(m => m.__backendId === id);
      if (!member) return;

      currentEditId = id;
      modalTitle.textContent = '‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å';
      document.getElementById('edit-member-id').value = id;
      document.getElementById('input-fullname').value = member.full_name;
      document.getElementById('input-position').value = member.position;
      document.getElementById('input-institution').value = member.institution;
      document.getElementById('input-province').value = member.province;
      document.getElementById('input-phone').value = member.phone;
      document.getElementById('input-email').value = member.email || '';
      document.getElementById('input-line').value = member.line_id || '';
      document.getElementById('input-facebook').value = member.facebook || '';
      document.getElementById('input-role').value = member.role;
      document.getElementById('input-status').value = member.status;
      document.getElementById('input-notes').value = member.notes || '';
      
      if (member.photo) {
        inputPhotoData.value = member.photo;
        photoPreview.src = member.photo;
        photoPreviewContainer.classList.remove('hidden');
      } else {
        inputPhotoData.value = '';
        photoPreview.src = '';
        photoPreviewContainer.classList.add('hidden');
      }

      memberModal.classList.remove('hidden');
    };

    // Delete Member
    window.deleteMember = function(id) {
      const member = members.find(m => m.__backendId === id);
      if (!member) return;

      document.getElementById('delete-member-id').value = id;
      document.getElementById('delete-member-name').textContent = member.full_name;
      deleteModal.classList.remove('hidden');
    };

    cancelDeleteBtn.addEventListener('click', () => deleteModal.classList.add('hidden'));
    deleteModalBackdrop.addEventListener('click', () => deleteModal.classList.add('hidden'));

    confirmDeleteBtn.addEventListener('click', async () => {
      const id = document.getElementById('delete-member-id').value;
      const member = members.find(m => m.__backendId === id);
      if (!member) return;

      confirmDeleteBtn.disabled = true;
      confirmDeleteBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏ö...';

      const result = await window.dataSdk.delete(member);
      if (result.isOk) {
        showToast('‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÅ‡∏•‡πâ‡∏ß');
        deleteModal.classList.add('hidden');
      } else {
        showToast('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•', 'error');
      }

      confirmDeleteBtn.disabled = false;
      confirmDeleteBtn.textContent = '‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•';
    });

    // Form Submit
    memberForm.addEventListener('submit', async (e) => {
      e.preventDefault();

      const editId = document.getElementById('edit-member-id').value;
      const isEdit = !!editId;

      const memberData = {
        member_id: isEdit ? members.find(m => m.__backendId === editId)?.member_id : generateMemberId(),
        full_name: document.getElementById('input-fullname').value.trim(),
        position: document.getElementById('input-position').value.trim(),
        institution: document.getElementById('input-institution').value.trim(),
        province: document.getElementById('input-province').value,
        phone: document.getElementById('input-phone').value.trim(),
        email: document.getElementById('input-email').value.trim(),
        line_id: document.getElementById('input-line').value.trim(),
        facebook: document.getElementById('input-facebook').value.trim(),
        photo: inputPhotoData.value || '',
        role: document.getElementById('input-role').value,
        status: document.getElementById('input-status').value,
        notes: document.getElementById('input-notes').value.trim(),
        created_at: isEdit ? members.find(m => m.__backendId === editId)?.created_at : new Date().toISOString()
      };

      submitFormBtn.disabled = true;
      submitFormBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...';

      let result;
      if (isEdit) {
        const existingMember = members.find(m => m.__backendId === editId);
        result = await window.dataSdk.update({ ...existingMember, ...memberData });
      } else {
        result = await window.dataSdk.create(memberData);
      }

      if (result.isOk) {
        showToast(isEdit ? '‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÅ‡∏•‡πâ‡∏ß' : '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡πâ‡∏ß');
        memberModal.classList.add('hidden');
        memberForm.reset();
        inputPhoto.value = '';
        inputPhotoData.value = '';
        photoPreview.src = '';
        photoPreviewContainer.classList.add('hidden');
      } else {
        showToast('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•', 'error');
      }

      submitFormBtn.disabled = false;
      submitFormBtn.textContent = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•';
    });

    // Search and Filter
    searchInput.addEventListener('input', renderMembers);
    filterProvince.addEventListener('change', renderMembers);
    filterStatus.addEventListener('change', renderMembers);

    // Public Registration Form
    document.getElementById('public-register-form').addEventListener('submit', async (e) => {
      e.preventDefault();

      if (members.length >= 999) {
        showToast('‡∏ñ‡∏∂‡∏á‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å 999 ‡∏Ñ‡∏ô‡πÅ‡∏•‡πâ‡∏ß', 'error');
        return;
      }

      const roleValue = document.getElementById('reg-role').value;
      if (!roleValue) {
        showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó', 'error');
        return;
      }

      const memberData = {
        member_id: generateMemberId(),
        full_name: document.getElementById('reg-fullname').value.trim(),
        position: document.getElementById('reg-position').value.trim(),
        institution: document.getElementById('reg-institution').value.trim(),
        province: document.getElementById('reg-province').value,
        phone: document.getElementById('reg-phone').value.trim(),
        email: document.getElementById('reg-email').value.trim(),
        line_id: document.getElementById('reg-line').value.trim(),
        facebook: document.getElementById('reg-facebook').value.trim(),
        photo: regPhotoData.value || '',
        role: roleValue,
        status: 'inactive',
        notes: document.getElementById('reg-notes').value.trim(),
        created_at: new Date().toISOString()
      };

      const submitBtn = document.getElementById('register-submit-btn');
      submitBtn.disabled = true;
      submitBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...';

      const result = await window.dataSdk.create(memberData);

      if (result.isOk) {
        showToast('‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏£‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥');
        document.getElementById('public-register-form').reset();
        regPhoto.value = '';
        regPhotoData.value = '';
        regPhotoPreview.src = '';
        regPhotoPreviewContainer.classList.add('hidden');
        
        setTimeout(() => {
          registerSection.classList.add('hidden');
        }, 1500);
      } else {
        showToast('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•', 'error');
      }

      submitBtn.disabled = false;
      submitBtn.textContent = '‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô';
    });

    // Data Handler
    const dataHandler = {
      onDataChanged(data) {
        members = data;
        renderMembers();
        updateStats();
      }
    };

    // Element SDK
    async function onConfigChange(cfg) {
      config = { ...defaultConfig, ...cfg };
      
      document.getElementById('public-title').textContent = config.system_title;
      document.getElementById('public-subtitle').textContent = config.organization_name;
      document.getElementById('login-title').textContent = config.system_title;
      document.getElementById('header-title').textContent = config.system_title;
      document.getElementById('login-subtitle').textContent = `‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î ${config.organization_name}`;
      document.getElementById('header-subtitle').textContent = `${config.organization_name} | VECSkills 2025`;
    }

    // Initialize
    async function init() {
      if (window.elementSdk) {
        await window.elementSdk.init({
          defaultConfig,
          onConfigChange,
          mapToCapabilities: (cfg) => ({
            recolorables: [],
            borderables: [],
            fontEditable: undefined,
            fontSizeable: undefined
          }),
          mapToEditPanelValues: (cfg) => new Map([
            ['system_title', cfg.system_title || defaultConfig.system_title],
            ['organization_name', cfg.organization_name || defaultConfig.organization_name]
          ])
        });
      }

      if (window.dataSdk) {
        const result = await window.dataSdk.init(dataHandler);
        if (!result.isOk) {
          showToast('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ', 'error');
        }
      }
    }

    init();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9bdacd78b0178ad1',t:'MTc2ODM2OTI2OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>